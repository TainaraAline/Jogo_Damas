<!DOCTYPE html>
<html lang="pt">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Damas</title>
    <!-- Crie um tabuleiro de damas utilizando somente HTML, CSS. Sua estrutura HTML deve conter o tabuleiro, as casas e as peças. Acima do tabuleiro coloque um texto de cabeçalho chamado: "Damas".
Cria um botão que abrirá uma mensagem de ajuda, essa mensagem deverá ser sobreposta em um estilo "modal". Ela informará as instruções do jogo. Dica: Tente criar primeiramente um elemento na tela e estilize com um classe tornando-o um "modal", depois disso tente atribuir um evento ao clicar o botão de instruções para adicionar uma classe onde ela exibe/oculta a sobreposição modal.
Adicione um evento ao clicar nas peças do tabuleiro, nessa etapa você vai exibir uma caixa de diálogo de alerta informando em qual peça clicou, se for em uma peça branca exiba a mensagem: cliquei numa peça branca, sendo preta, cliquei numa peça preta. -->
    <link rel="stylesheet" href="style.css" />
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@700&display=swap');
      @import url('https://fonts.googleapis.com/css2?family=Josefin+Slab:wght@300;600&display=swap');
    </style>
  </head>

  <body>
    <h1>DAMAS</h1>
    <!-- Cria uma classe, que ao clicar no abrir modal, será adicionada ao mesmo, e portanto muda o estilo para parecer que está escondido (fechado). Por default no css = display none. Criar classe para sobrescrever-->
    <div class="modal" id="modal_inst">
      <button id="fechar">FECHAR</button>
      <p>
        O objetivo é capturar ou imobilizar as peças do adversário. <br />
        O jogador que conseguir capturar todas as peças do inimigo ganha a
        partida.
      </p>
    </div>
    <button id="instrucoes">VER INSTRUÇÕES</button>

    <div id="tabuleiro">
      <div class="linha">
        <div class="casa"></div>
        <div class="casa"><div class="peca branca"></div></div>
        <div class="casa"></div>
        <div class="casa"><div class="peca branca"></div></div>
        <div class="casa"></div>
        <div class="casa"><div class="peca branca"></div></div>
        <div class="casa"></div>
        <div class="casa"><div class="peca branca"></div></div>
      </div>
      <div class="linha">
        <div class="casa"><div class="peca branca"></div></div>
        <div class="casa"></div>
        <div class="casa"><div class="peca branca"></div></div>
        <div class="casa"></div>
        <div class="casa"><div class="peca branca"></div></div>
        <div class="casa"></div>
        <div class="casa"><div class="peca branca"></div></div>
        <div class="casa"></div>
      </div>
      <div class="linha">
        <div class="casa"></div>
        <div class="casa"></div>
        <div class="casa"></div>
        <div class="casa"></div>
        <div class="casa"></div>
        <div class="casa"></div>
        <div class="casa"></div>
        <div class="casa"></div>
      </div>
      <div class="linha">
        <div class="casa"></div>
        <div class="casa"></div>
        <div class="casa"></div>
        <div class="casa"></div>
        <div class="casa"></div>
        <div class="casa"></div>
        <div class="casa"></div>
        <div class="casa"></div>
      </div>
      <div class="linha">
        <div class="casa"></div>
        <div class="casa"></div>
        <div class="casa"></div>
        <div class="casa"></div>
        <div class="casa"></div>
        <div class="casa"></div>
        <div class="casa"></div>
        <div class="casa"></div>
      </div>
      <div class="linha">
        <div class="casa"></div>
        <div class="casa"></div>
        <div class="casa"></div>
        <div class="casa"></div>
        <div class="casa"></div>
        <div class="casa"></div>
        <div class="casa"></div>
        <div class="casa"></div>
      </div>
      <div class="linha">
        <div class="casa"></div>
        <div class="casa"><div class="peca preta"></div></div>
        <div class="casa"></div>
        <div class="casa"><div class="peca preta"></div></div>
        <div class="casa"></div>
        <div class="casa"><div class="peca preta"></div></div>
        <div class="casa"></div>
        <div class="casa"><div class="peca preta"></div></div>
      </div>
      <div class="linha">
        <div class="casa"><div class="peca preta"></div></div>
        <div class="casa"></div>
        <div class="casa"><div class="peca preta"></div></div>
        <div class="casa"></div>
        <div class="casa"><div class="peca preta"></div></div>
        <div class="casa"></div>
        <div class="casa"><div class="peca preta"></div></div>
        <div class="casa"></div>
      </div>
    </div>

    <script>
      // function abrirmodal(){
      //   const modal = document.getElementById("modal_inst")
      //   modal.style.display = "block"
      // }
      // function fecharmodal(){
      //   const modal = document.getElementById("modal_inst")
      //   modal.style.display = "none"
      // }
      // function Selecionar(cor){
      //   alert("Cliquei numa peça "+cor)
      // }

      // document.getElementById("instrucoes").addEventListener("click", abrirmodal)
      function abrirmodal() {
        document.getElementById('modal_inst').classList.add('abrirmodal')
      }
      document.getElementById('fechar').addEventListener('click', fecharmodal)
      function fecharmodal() {
        document.getElementById('modal_inst').classList.remove('abrirmodal')
      }
      // Clique na janela fecha modal, exceto clique dentro do mesmo /// escopo de atuação variavel
      document.addEventListener('click', fecharmodaljanela)
      function fecharmodaljanela(evento) {
        const botaoVerInstrucoes = document.getElementById('instrucoes')
        const quandoModalNaoEstiverAberto = !document
          .getElementById('modal_inst')
          .classList.contains('abrirmodal')
        const clicouDentroDoModal = document
          .getElementById('modal_inst')
          .contains(event.target)

        if (
          evento.target == botaoVerInstrucoes &&
          quandoModalNaoEstiverAberto
        ) {
          abrirmodal()
        } else if (
          !clicouDentroDoModal &&
          document.getElementById('modal_inst').classList.contains('abrirmodal')
        ) {
          fecharmodal()
        }
      }

      // Usando event listener target pai / event bubbling
      document.getElementById('tabuleiro').addEventListener('click', cliquei)
      function cliquei(evento) {
        // console.log(evento.target.className != "casa" && evento.target.className != "")
        // console.log(evento.target.className)

        if (
          evento.target.className != 'casa' &&
          evento.target.className != ''
        ) {
          alert(`Você clicou numa ${evento.target.className}`)
        }
      }
    </script>
  </body>
</html>
